function t(t,i){let r=new e(t),n=()=>r.next();return n.double=n,n.int32=()=>0|r.g(4),n.quick=()=>r.g(4)/4294967296,function(t,e,i){let r=i&&i.state;r&&("object"==typeof r&&e.copy(r,e),t.state=()=>e.copy(e,{}))}(n,r,i),n}class e{constructor(t){null==t&&(t=+new Date);let e,i,r,n=this.mixkey(t,[]),o=[],s=n.length;for(this.i=this.j=e=i=0,this.S=o,s||(n=[s++]);e<=255;)o[e]=e++;for(e=0;e<=255;e++)o[e]=o[i=255&i+n[e%s]+(r=o[e])],o[i]=r;this.g(256)}next(){let t=this.g(6),e=281474976710656,i=0;for(;t<4503599627370496;)t=256*(t+i),e*=256,i=this.g(1);for(;t>=9007199254740992;)t/=2,e/=2,i>>>=1;return(t+i)/e}g(t){let e,i=0,{i:r,j:n,S:o}=this;for(;t--;)e=o[r=255&r+1],i=256*i+o[255&(o[r]=o[n=255&n+e])+(o[n]=e)];return this.i=r,this.j=n,i}copy(t,e){return e.i=t.i,e.j=t.j,e.S=[...t.S],e}mixkey(t,e){t+="";let i=0,r=0;for(;r<t.length;)e[255&r]=255&(i^=19*e[255&r])+t.charCodeAt(r++);return e}}export{t as default,t as prng_arc4};
